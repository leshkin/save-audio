import{r as f,o as k,a as y,c as m,b as c,t as L,u,w as M,v as A,i as B,F as O,d as j,g as R,e as S,s as b,f as U,h as D}from"./vendor.97ca4836.js";const F=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};F();const N={class:"mx-auto max-w-md"},C={class:"my-7 text-center text-xl"},T={class:"flex flex-row justify-center items-center"},q=["disabled"],E=["disabled"],I={class:"flex flex-row justify-center items-center"},K=["src"],P=["onClick"],V={setup(v){let a=f(""),i=f(!1),r=new Set,e=new Map,t=f([]),l=f(void 0);async function g(){const s=await navigator.storage.estimate();l.value=((s.quota-s.usage)/1e6).toFixed(0)+"MB"}async function w(){const s=await R("keys");if(s){r=s;const n=Array.from(r),o=await S(n);for(let d=0;d<n.length;d++)e.set(n[d],URL.createObjectURL(o[d])),p()}}k(async()=>{await g(),await w()});async function _(){i.value=!0;let n=await(await fetch(a.value)).blob();const o=x();r.add(o),await b(o,n),await b("keys",r),e.set(o,URL.createObjectURL(n)),p(),g(),i.value=!1,a.value=""}async function h(s){await U(s),e.delete(s),p(),r.delete(s),await b("keys",r)}function x(){return String(new Date().getTime())}function p(){t.value=[];for(let s of e)t.value.push({key:s[0],value:s[1]})}return(s,n)=>(y(),m("div",N,[c("h1",C,L(u(l))+" free storage space",1),c("div",T,[M(c("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>B(a)?a.value=o:a=o),type:"text",class:"border-2 py-2 px-4 mx-4 rounded",disabled:u(i)},null,8,q),[[A,u(a)]]),c("button",{class:"bg-sky-500 text-white font-bold py-2 px-4 rounded disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed",onClick:_,disabled:u(i)},"Add mp3",8,E)]),(y(!0),m(O,null,j(u(t),o=>(y(),m("div",I,[c("audio",{controls:"",src:o.value,class:"m-3"},null,8,K),c("button",{class:"text-red-500 font-bold py-2 px-4 rounded cursor-pointer border-2 border-red-500",onClick:d=>h(o.key)},"X",8,P)]))),256))]))}};D(V).mount("#app");
